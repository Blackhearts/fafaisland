<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paradise Resort - Rooms</title>
  <link rel="stylesheet" href="style.css">

  <style>
    .availability-badge{
      display:inline-block; padding:6px 10px; border-radius:999px; font-size:12px; font-weight:600;
      background:#e6f7ee; color:#0a7a35; border:1px solid #bfe7cf; margin-right:8px;
    }
    .availability-badge.unavailable{ background:#fdeaea; color:#a02020; border-color:#f5c2c2; }
    .book-btn{ display:inline-block; padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:600; }
    .book-btn{ background:#0073e6; color:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.15); }
    .book-btn:active{ transform:translateY(1px); }
    .room-actions{ margin-top:12px; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    /* Modal */
    .modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.45); display:none; align-items:center; justify-content:center; z-index:9999;}
    .modal{ width:min(92vw,560px); background:#fff; border-radius:14px; box-shadow:0 12px 30px rgba(0,0,0,.25); overflow:hidden; }
    .modal header{ padding:16px 20px; background:linear-gradient(135deg,#0073e6,#005bb5); color:#fff; }
    .modal .content{ padding:18px 20px; display:grid; gap:12px; }
    .modal label{ font-size:14px; font-weight:600; }
    .modal input,.modal select,.modal textarea{ width:100%; padding:10px 12px; border:1px solid #ccd6dd; border-radius:10px; font-size:14px; }
    .modal .actions{ display:flex; gap:10px; justify-content:flex-end; padding:16px 20px; background:#f7f9fc; }
    .btn-secondary{ background:#e9ecef; color:#222; }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>

</head>
<body>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="rooms.html">Rooms</a></li>
      <li><a href="aboutus.html">About Us</a></li>
      <li><a href="gallery.html">Services</a></li>
      <li><a href="contactus.html">Contact Us</a></li>

    </ul>
  </nav>
  
  <div class="container">
    <div class="section-heading">
      <h2>Our Accommodations</h2>
      <p>Choose from our selection of luxurious rooms and suites</p>
    </div>
    
    <div class="rooms-container">
      <div class="room-card">
        <div class="room-image" style="background-image: url('images/standard.png');"></div>
        <div class="room-content">
          <h3 class="room-title">Standard Room</h3>
          <p>Comfortable room with all essential amenities for a pleasant stay.</p>
          <ul>
            <li>Queen-sized bed</li>
            <li>Air conditioning</li>
            <li>Private bathroom</li>
            <li>Free Wi-Fi</li>
          </ul>
          <p class="room-price">$150/night</p>
        </div>
      </div>
      
      <div class="room-card">
        <div class="room-image" style="background-image: url('images/deluxefale.png');"></div>
        <div class="room-content">
          <h3 class="room-title">Deluxe Room</h3>
          <p>Spacious room with ocean view and premium amenities.</p>
          <ul>
            <li>King-sized bed</li>
            <li>Ocean view balcony</li>
            <li>Mini bar</li>
            <li>Smart TV</li>
          </ul>
          <p class="room-price">$300/night</p>
        </div>
      </div>
      
      <div class="room-card">
        <div class="room-image" style="background-image: url('images/beachvilla.jpg');"></div>
        <div class="room-content">
          <h3 class="room-title">Beach Villa</h3>
          <p>Private villa with direct beach access and exclusive services.</p>
          <ul>
            <li>Private pool</li>
            <li>Direct beach access</li>
            <li>Butler service</li>
            <li>Luxury bathroom</li>
          </ul>
          <p class="room-price">$320/night</p>
        </div>
      </div>
      
      <div class="room-card">
        <div class="room-image" style="background-image: url('images/famsuite.png');"></div>
        <div class="room-content">
          <h3 class="room-title">Family Suite</h3>
          <p>Spacious suite perfect for families with children.</p>
          <ul>
            <li>Two separate bedrooms</li>
            <li>Living area</li>
            <li>Kitchenette</li>
            <li>Children's amenities</li>
          </ul>
          <p class="room-price">$350/night</p>
        </div>
      </div>
      
      <div class="room-card">
       <div class="room-image" style="background-image: url('images/president.png');"></div>
        <div class="room-content">
          <h3 class="room-title">Presidential Suite</h3>
          <p>The ultimate luxury experience with panoramic views.</p>
          <ul>
            <li>360-degree ocean views</li>
            <li>Private rooftop terrace</li>
            <li>Personal chef available</li>
            <li>Luxury spa bathroom</li>
          </ul>
          <p class="room-price">$600/night</p>
        </div>
      </div>
      
      <div class="room-card">
        <div class="room-image" style="background-image: url('images/honeymoonfale.png');"></div>
        <div class="room-content">
          <h3 class="room-title">Honeymoon Package</h3>
          <p>Special romantic package for newlyweds.</p>
          <ul>
            <li>Champagne on arrival</li>
            <li>Couples massage</li>
            <li>Romantic dinner</li>
            <li>Special amenities</li>
          </ul>
          <p class="room-price">$350/night</p>
        </div>
      </div>
    </div>
  </div>
  
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Fafa Island Resort</h3>
        <p>Your luxury getaway destination since 1990. Experience the perfect blend of comfort and nature.</p>
      </div>
      
      <div class="footer-section">
        <h3>Contact Info</h3>
        <p>Fafa Island</p>
        <p>Phone: (676) 7203500</p>
        <p>Email: info@fafais.to</p>
      </div>
      
      <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="index.html">Home</a>
        <a href="rooms.html">Rooms</a>
        <a href="aboutus.html">About Us</a>
        <a href="gallery.html">Services</a>
        <a href="contactus.html">Contact Us</a>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2000 Fafa Island Resort. All rights reserved.</p>
    </div>
  </footer>

  <!-- Booking Modal -->
  <div class="modal-backdrop" id="bookingModalBackdrop" aria-hidden="true" role="dialog" aria-labelledby="bookingTitle">
    <div class="modal" role="document">
      <header>
        <h2 id="bookingTitle">Book Your Stay</h2>
      </header>
      <div class="content">
        <div>
          <label>Room</label>
          <input type="text" id="roomName" readonly>
        </div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
          <div>
            <label for="checkIn">Check‑in</label>
            <input type="date" id="checkIn">
          </div>
          <div>
            <label for="checkOut">Check‑out</label>
            <input type="date" id="checkOut">
          </div>
        </div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
          <div>
            <label for="guests">Guests</label>
            <select id="guests">
              <option>1</option><option>2</option><option>3</option><option>4</option>
            </select>
          </div>
          <div>
            <label for="name">Your Name</label>
            <input type="text" id="name" placeholder="First & Last Name">
          </div>
        </div>
        <div>
          <label for="contact">Email or Phone</label>
          <input type="text" id="contact" placeholder="you@example.com or +1 555‑123‑4567">
        </div>
        <div>
          <label for="notes">Notes (optional)</label>
          <textarea id="notes" rows="3" placeholder="Arrival time, special requests, etc."></textarea>
        </div>
      </div>
      <div class="actions">
        <button class="book-btn btn-secondary" id="cancelBooking">Cancel</button>
        <button class="book-btn" id="confirmBooking">Send Request</button>
      </div>
    </div>
  </div>

  <script>
  // --- Simple availability map (edit as needed) ---
  // Keys must match the room title text (h3) exactly.
  const AVAILABILITY = {
    "Deluxe Ocean View": true,
    "Beach Villa": false,
    "Garden Suite": true,
    "Family Bungalow": true
  };
  const RESERVATIONS_EMAIL = "reservations@example.com"; // TODO: replace with your email

  // Enhance each room card: add availability badge + Book button
  function enhanceRooms(){
    const cards = document.querySelectorAll('.room-card');
    cards.forEach(card => {
      const titleEl = card.querySelector('h3, .room-title, .room-name');
      const title = titleEl ? titleEl.textContent.trim() : "Room";
      const available = AVAILABILITY[title] !== undefined ? AVAILABILITY[title] : true;

      // Actions container
      let actions = card.querySelector('.room-actions');
      if(!actions){
        actions = document.createElement('div');
        actions.className = 'room-actions';
        card.appendChild(actions);
      }

      // Badge
      const badge = document.createElement('span');
      badge.className = 'availability-badge' + (available ? '' : ' unavailable');
      badge.textContent = available ? 'Available' : 'Booked';
      actions.appendChild(badge);

      // Button
      const btn = document.createElement('button');
      btn.className = 'book-btn';
      btn.type = 'button';
      btn.textContent = available ? 'Book Now' : 'Join Waitlist';
      btn.addEventListener('click', () => openBookingModal(title));
      actions.appendChild(btn);
    });
  }

  // Modal logic
  const backdrop = document.getElementById('bookingModalBackdrop');
  function openBookingModal(roomName){
    document.getElementById('roomName').value = roomName;
    backdrop.style.display = 'flex';
    backdrop.setAttribute('aria-hidden','false');
  }
  function closeBookingModal(){
    backdrop.style.display = 'none';
    backdrop.setAttribute('aria-hidden','true');
  }
  document.getElementById('cancelBooking').addEventListener('click', closeBookingModal);
  backdrop.addEventListener('click', (e)=>{ if(e.target === backdrop) closeBookingModal(); });

  // Send booking request via mailto: (works without a backend)
  document.getElementById('confirmBooking').addEventListener('click', () => {
    const room = document.getElementById('roomName').value;
    const ci = document.getElementById('checkIn').value;
    const co = document.getElementById('checkOut').value;
    const guests = document.getElementById('guests').value;
    const name = document.getElementById('name').value.trim();
    const contact = document.getElementById('contact').value.trim();
    const notes = document.getElementById('notes').value.trim();

    const subject = encodeURIComponent(`[Booking Request] ${room} — ${ci || 'TBD'} to ${co || 'TBD'}`);
    const body = encodeURIComponent(
      `Room: ${room}
Check-in: ${ci}
Check-out: ${co}
Guests: ${guests}
` +
      `Name: ${name}
Contact: ${contact}

Notes:
${notes}`
    );
    const mailto = `mailto:${RESERVATIONS_EMAIL}?subject=${subject}&body=${body}`;
    window.location.href = mailto;
  });

  // Run after DOM ready
  document.addEventListener('DOMContentLoaded', enhanceRooms);
  </script>

  <script src="js/supabaseClient.js"></script>
</body>
</html>